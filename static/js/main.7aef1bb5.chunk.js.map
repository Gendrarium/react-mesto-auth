{"version":3,"sources":["images/header-logo.svg","images/header-phone-button.svg","images/header-phone-close-button.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","utils/auth.js","components/AuthPage.js","components/Login.js","components/Register.js","components/Footer.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/PopupChildrenRedactProfile.js","hooks/useForm.js","components/EditProfilePopup.js","components/PopupChildrenRedactAvatar.js","components/EditAvatarPopup.js","components/PopupChildrenAddCard.js","components/AddPlacePopup.js","components/ImagePopup.js","images/auth-yes.svg","images/auth-no.svg","components/InfoTooltip.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","location","email","handleLogout","React","useState","isOpenInfo","setIsOpenInfo","info","className","type","onClick","src","logo","alt","style","backgroundImage","phoneCloseButton","phoneButton","to","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","onCardDelete","onCardLike","length","Main","handleEditAvatarClick","avatar","handleEditProfileClick","about","handleAddPlaceClick","cards","map","BASE_URL","AuthPage","password","error","isDisabled","handleEmailChange","handlePasswordChange","title","buttonTitle","children","onSubmit","target","method","value","onChange","id","placeholder","minLength","maxLength","required","disabled","Login","setLocation","handleLogin","setAppEmail","openNotice","setEmail","setPassword","setError","isButtonDisabled","setIsButtonDisabled","history","useHistory","useEffect","e","validationMessage","preventDefault","fetch","headers","body","JSON","stringify","then","response","json","data","token","localStorage","setItem","catch","err","console","log","auth","push","Register","res","Footer","ProtectedRoute","Component","component","PopupWithForm","isOpen","onClose","isValid","buttonCaption","PopupChildrenRedactProfile","values","errors","useFormWithValidation","setValues","setErrors","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","input","closest","checkValidity","EditProfilePopup","onUpdateUser","PopupChildrenRedactAvatar","EditAvatarPopup","onUpdateAvatar","PopupChildrenAddCard","AddPlacePopup","onAddPlace","ImagePopup","InfoTooltip","isSuccess","authYes","authNo","api","url","key","this","_url","_key","authorization","_getResponseData","ok","Promise","reject","status","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","selectedCard","setSelectedCard","isCardFullPopupOpen","setIsCardFullPopupOpen","setCards","setCurrentUser","setLoggedIn","setIsSuccess","handleInfoTooltip","isOkey","handleTokenCheck","getItem","jwt","closeAllPopups","all","getUserData","getInitialCards","userData","gridCards","Provider","removeItem","path","dislikeCard","likeCard","newCard","state","c","deleteCard","filter","editUserInfo","addCard","editAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.7aef1bb5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","export default __webpack_public_path__ + \"static/media/header-phone-button.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/header-phone-close-button.3c2485ff.svg\";","import logo from '../images/header-logo.svg';\nimport React from 'react';\nimport {Link} from 'react-router-dom';\nimport phoneButton from '../images/header-phone-button.svg'\nimport phoneCloseButton from '../images/header-phone-close-button.svg'\n\nfunction Header({loggedIn, location, email, handleLogout}) {\n  const [isOpenInfo, setIsOpenInfo] = React.useState(false);\n  const info = (<>\n    <p className=\"header__email\">{email}</p>\n    <button className=\"header__button\" type=\"submit\" onClick={logout}>Выйти</button>\n  </>)\n\n  function handleOpenInfo() {\n    setIsOpenInfo(!isOpenInfo);\n  }\n\n  function logout() {\n    setIsOpenInfo(false);\n    handleLogout();\n  }\n\n  return (\n    <header className=\"header page__header\">\n      {isOpenInfo && <div className=\"header__block_phone\">\n        {info}\n      </div>}\n      <div className=\"header__container\">\n        <img className=\"header__logo\" src={logo} alt=\"Логотип Место\"/>\n        {loggedIn ? (<>\n        <div className=\"header__block_desktop\">{info}</div>\n        <button\n          className=\"header__phone-button\"\n          type=\"button\"\n          onClick={handleOpenInfo}\n          style={{backgroundImage: `url(${isOpenInfo ? phoneCloseButton : phoneButton})`}}\n        />\n        </>) :\n        location === \"/sign-up\" ?\n        <Link className=\"header__link\" to=\"/sign-in\">Войти</Link> :\n        <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>}\n      </div>\n    </header>\n  );\n}\nexport default Header;\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__del ${!isOwn && 'card__del_display-none'}`\n  );\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `card__like ${isLiked && 'card__like_fill'}`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card, isLiked);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <article className=\"card\" >\n      <div className=\"card__image-container\">\n        <img className=\"card__image\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\n      </div>\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}/>\n      <div className=\"card__bottom-container\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__like-container\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}/>\n          <p className=\"card__like-num\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\nexport default Card;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <section className=\"profile main__profile\">\n        <div className=\"profile__container\">\n          <button className=\"profile__edit-image\" onClick={props.handleEditAvatarClick}>\n            <img className=\"profile__image\" src={currentUser.avatar} alt={currentUser.name} />\n          </button>\n          <div className=\"profile__name-and-description\">\n            <div className=\"profile__name-container\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button className=\"profile__edit-button\" type=\"button\" onClick={props.handleEditProfileClick}/>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.handleAddPlaceClick}/>\n      </section>\n      <section className=\"grid-cards main__grid-cards\">\n        {props.cards.map((card)=> (\n        <Card\n          key={card._id}\n          card={card}\n          onCardLike={props.onCardLike}\n          onCardClick={props.onCardClick}\n          onCardDelete={props.onCardDelete}\n        />))}\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n    .then((response => response.json()))\n    .then((data) => {\n      if (data.token){\n        localStorage.setItem('jwt', data.token);\n        return data;\n      }\n    })\n    .catch(err => console.log(err))\n};\n\nexport const checkToken = (jwt) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${jwt}`,\n    }\n  })\n    .then(res => res.json())\n    .then(data => data)\n}\n","import React from 'react';\n\nfunction AuthPage({\n  email,\n  password,\n  error,\n  isDisabled,\n  handleEmailChange,\n  handlePasswordChange,\n  title,\n  buttonTitle,\n  children,\n  onSubmit\n}) {\n\n  return (\n    <section className=\"auth main__auth\">\n      <h1 className=\"auth__title\">{title}</h1>\n      <form\n        onSubmit={onSubmit}\n        className=\"auth__form\"\n        target=\"_self\"\n        name=\"auth-form\"\n        method=\"get\"\n      >\n        <input\n          className=\"auth__input\"\n          value={email}\n          onChange={handleEmailChange}\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n        />\n        <span className=\"auth__error\">{error.email}</span>\n        <input\n          className=\"auth__input\"\n          value={password}\n          onChange={handlePasswordChange}\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n        />\n        <span className=\"auth__error\">{error.password}</span>\n        <button disabled={isDisabled} className={`auth__button ${isDisabled && 'auth__button_disabled'}`}>{buttonTitle}</button>\n      </form>\n      {children}\n    </section>\n  );\n}\n\nexport default AuthPage;\n","import React from 'react';\nimport {useHistory} from 'react-router-dom';\nimport * as auth from '../utils/auth.js';\nimport AuthPage from './AuthPage';\n\nfunction Login({setLocation, handleLogin, setAppEmail, openNotice}) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [error, setError] = React.useState({\n    email: '',\n    password: ''\n  })\n  const [isButtonDisabled, setIsButtonDisabled] = React.useState(true);\n  const history = useHistory();\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n    setError({...error, email: e.target.validationMessage});\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n    setError({...error, password: e.target.validationMessage});\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!email || !password){\n      return;\n    }\n    auth.authorize(password, email)\n      .then((data) => {\n        if (data.token){\n          setAppEmail(email);\n          setEmail('');\n          setPassword('');\n          handleLogin();\n          history.push('/');\n      }\n      })\n      .catch((err) => {\n        openNotice(false);\n        console.log(err)\n      });\n  }\n\n  React.useEffect(()=> {\n    setLocation('/sign-in');\n  },[setLocation]);\n\n  React.useEffect(()=> {\n  // Если ошибки пустые, а инпуты заполнены, кнопка активна (isDisabled=false)\n  error.email === '' && error.password === '' ? (email !== '' && password !== '' ? setIsButtonDisabled(false) : setIsButtonDisabled(true)) : setIsButtonDisabled(true);\n  }, [error, email, password]);\n  \n  return (\n    <AuthPage\n      email={email}\n      error={error}\n      isDisabled={isButtonDisabled}\n      password={password}\n      handleEmailChange={handleEmailChange}\n      handlePasswordChange={handlePasswordChange}\n      title=\"Вход\"\n      buttonTitle=\"Войти\"\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport AuthPage from './AuthPage';\nimport {useHistory} from 'react-router-dom';\nimport * as auth from '../utils/auth.js';\nimport {Link} from 'react-router-dom';\n\nfunction Register({setLocation, openNotice}) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [error, setError] = React.useState({\n    email: '',\n    password: ''\n  })\n  const [isButtonDisabled, setIsButtonDisabled] = React.useState(true);\n  const history = useHistory();\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n    setError({...error, email: e.target.validationMessage});\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n    setError({...error, password: e.target.validationMessage});\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!email || !password){\n      return;\n    }\n      auth.register(password, email)\n      .then((res) => {\n         if(res){\n            history.push('/sign-in');\n            openNotice(true);\n        } else {\n          openNotice(false);\n          }\n      });\n  }\n\n  React.useEffect(()=> {\n    setLocation('/sign-up')\n  },[setLocation]);\n\n  React.useEffect(()=> {\n    // Если ошибки пустые, а инпуты заполнены, кнопка активна (isDisabled=false)\n    error.email === '' && error.password === '' ? (email !== '' && password !== '' ? setIsButtonDisabled(false) : setIsButtonDisabled(true)) : setIsButtonDisabled(true);\n    }, [error, email, password]);\n  \n  return (\n    <AuthPage\n      email={email}\n      error={error}\n      password={password}\n      isDisabled={isButtonDisabled}\n      handleEmailChange={handleEmailChange}\n      handlePasswordChange={handlePasswordChange}\n      title=\"Регистрация\"\n      buttonTitle=\"Зарегистрироваться\"\n      onSubmit={handleSubmit}\n      children={<Link className=\"auth__link\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link>}\n    />\n  );\n}\n\n\nexport default Register;\n","function Footer() {\n\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","function PopupWithForm({\n  name,\n  isOpen,\n  onClose,\n  title,\n  onSubmit,\n  children,\n  isValid,\n  buttonCaption\n}) {\n\n  return (\n    <div className={`popup page__popup popup_button_${name} ${isOpen}`}   >\n      <div className=\"popup__container\">\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}/>\n        <h2 className=\"popup__title\">{title}</h2>\n        <form onSubmit={onSubmit} className=\"popup__form\" target=\"_self\" name={name} method=\"get\">\n        {children}\n          <button className={`popup__button ${!isValid && 'popup__button_disabled'}`} type=\"submit\" disabled={!isValid}>{buttonCaption}</button>\n        </form>\n      </div>\n     </div>\n  );\n}\n\nexport default PopupWithForm;\n","function PopupChildrenRedactProfile({\n  values,\n  onChange,\n  errors\n}) {\n\n  return (\n    <>\n      <input\n        className=\"popup__input popup__input_content_name\"\n        value={values.name}\n        onChange={onChange}\n        id=\"user-name\"\n        name=\"name\"\n        type=\"text\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n      />\n      <span id=\"user-name-error\" className=\"popup__error\">{errors.name}</span>\n      <input\n        className=\"popup__input popup__input_content_job\"\n        value={values.about}\n        onChange={onChange}\n        id=\"user-about\"\n        name=\"about\"\n        type=\"text\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n      />\n      <span id=\"user-job-error\" className=\"popup__error\">{errors.about}</span>\n    </>\n  );\n}\n\nexport default PopupChildrenRedactProfile;\n","import React from 'react';\n\nexport function useFormWithValidation () {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (e) => {\n    const input = e.target;\n    const { value, name, validationMessage } = input;\n    setValues({ ...values, [name]: value});\n    setErrors({ ...errors, [name]: validationMessage});\n    setIsValid(input.closest(\"form\").checkValidity());\n  }\n\n  const resetForm = React.useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid)\n    }, [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, resetForm, errors, isValid };\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport PopupChildrenRedactProfile from './PopupChildrenRedactProfile';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport { useFormWithValidation } from '../hooks/useForm';\n\nfunction EditProfilePopup({\n  onUpdateUser,\n  isOpen,\n  onClose,\n}) {\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n\n\n  function handleSubmitForm(e) {\n    e.preventDefault();\n\n    onUpdateUser(values);\n  }\n\n  return (\n    <PopupWithForm\n      name='redact'\n      title='Редактировать профиль'\n      buttonCaption='Сохранить'\n      isOpen={isOpen ? 'popup_display-flex' : ''}\n      isValid={isValid}\n      onClose={onClose}\n      onSubmit={handleSubmitForm}\n    >\n      <PopupChildrenRedactProfile\n        values={values}\n        errors={errors}\n        onChange={handleChange}\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","function PopupChildrenRedactAvatar({\n  values,\n  onChange,\n  errors,\n}) {\n\n  return (\n    <>\n      <input\n        className=\"popup__input popup__input_content_name\"\n        value={values.avatar}\n        onChange={onChange}\n        id=\"avatar-url\"\n        name=\"avatar\"\n        type=\"url\"\n        placeholder=\"Ссылка на аватар\"\n        required\n      />\n      <span id=\"avatar-url-error\" className=\"popup__error\">{errors.avatar}</span>\n    </>\n  );\n}\n\nexport default PopupChildrenRedactAvatar;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport PopupChildrenRedactAvatar from './PopupChildrenRedactAvatar';\nimport { useFormWithValidation } from '../hooks/useForm';\n\nfunction EditAvatarPopup({\n  isOpen,\n  onUpdateAvatar,\n  onClose\n}) {\n\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm({avatar: ''});\n  }, [isOpen, resetForm]);\n\n  function handleSubmitForm(e) {\n    e.preventDefault();\n\n    onUpdateAvatar(values);\n  }\n\n  return (\n    <PopupWithForm\n      name='avatar-edit'\n      title='Обновить аватар'\n      buttonCaption='Сохранить'\n      isOpen={isOpen ? 'popup_display-flex' : ''}\n      onClose={onClose}\n      isValid={isValid}\n      onSubmit={handleSubmitForm}\n    >\n      <PopupChildrenRedactAvatar\n        values={values}\n        errors={errors}\n        onChange={handleChange}\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","function PopupChildrenAddCard({\n  values,\n  errors,\n  onChange,\n}) {\n\n  return (\n    <>\n      <input\n        className=\"popup__input popup__input_content_name\"\n        value={values.name}\n        onChange={onChange}\n        id=\"place-name\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n      />\n      <span id=\"place-name-error\" className=\"popup__error\">{errors.name}</span>\n      <input\n        className=\"popup__input popup__input_content_link\"\n        value={values.link}\n        onChange={onChange}\n        id=\"user-link\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n      <span id=\"user-link-error\" className=\"popup__error\">{errors.link}</span>\n    </>\n  );\n}\n\nexport default PopupChildrenAddCard;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport PopupChildrenAddCard from './PopupChildrenAddCard';\nimport { useFormWithValidation } from '../hooks/useForm';\n\nfunction AddPlacePopup({\n  isOpen,\n  onAddPlace,\n  onClose,\n}) {\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm({name: '', link: ''});\n  }, [isOpen, resetForm]);\n\n  function handleSubmitForm(e) {\n    e.preventDefault();\n\n    onAddPlace(values);\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmitForm}\n      name='add'\n      title='Новое место'\n      buttonCaption='Создать'\n      isOpen={isOpen ? 'popup_display-flex' : ''}\n      onClose={onClose}\n      isValid={isValid}\n    >\n      <PopupChildrenAddCard\n        values={values}\n        errors={errors}\n        onChange={handleChange}\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function ImagePopup(props) {\n\n  return (\n    <div className={`popup page__popup popup_button_img ${props.isOpen}`}>\n      <div className=\"popup__container popup__container_img-popup\">\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}/>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\n          <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/auth-yes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/auth-no.df8eddf6.svg\";","import authYes from '../images/auth-yes.svg';\nimport authNo from '../images/auth-no.svg';\n\nfunction InfoTooltip(props) {\n\n  return (\n    <div className={`popup page__popup ${props.isOpen}`}>\n      <div className=\"popup__container\">\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}/>\n        <img className=\"popup__icon\" src={props.isSuccess ? authYes : authNo} alt={props.isSuccess ? \"Успешно\" : \"Ошибка\"}/>\n        <h2 className=\"popup__title\">{props.isSuccess ? \"Вы успешно зарегистрировались\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</h2>\n      </div>\n    </div>\n  );\n }\n export default InfoTooltip;\n"," class Api {\n  constructor({url, key}) {\n    this._url = url;\n    this._key = key;\n  }\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        authorization: this._key\n      }\n    })\n      .then((res) => {\n        return this._getResponseData(res);\n      });\n\n  }\n  editUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._key,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then((res) => {\n        return this._getResponseData(res);\n      });\n  }\n  editAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._key,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n      .then((res) => {\n        return this._getResponseData(res);\n      });\n  }\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: {\n        authorization: this._key\n      }\n    })\n      .then((res) => {\n        return this._getResponseData(res);\n      });\n  }\n  addCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._key,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then((res) => {\n        return this._getResponseData(res);\n      });\n  }\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._key\n      }\n    })\n      .then((res) => {\n        return this._getResponseData(res);\n      });\n  }\n  likeCard(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._key\n      }\n    })\n      .then((res) => {\n        return this._getResponseData(res);\n      });\n  }\n  dislikeCard(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._key\n      }\n    })\n      .then((res) => {\n        return this._getResponseData(res);\n      });\n  }\n  _getResponseData(res) {\n    if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n}\nconst api = new Api ({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-19',\n  key: 'e17fa530-896d-4705-bcb2-e2630586390c'});\n\n export default api;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport * as auth from '../utils/auth.js';\nimport '../index.css';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isCardFullPopupOpen, setIsCardFullPopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isSuccess, setIsSuccess] = React.useState(false);\n  const [location, setLocation] = React.useState();\n  const [email, setEmail] = React.useState('');\n  const history = useHistory()\n\n  function handleInfoTooltip(isOkey) {\n    isOkey ? setIsSuccess(true) : setIsSuccess(false);\n    setIsInfoTooltipPopupOpen(true);\n  }\n\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push(\"/sign-in\")\n  }\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n\n  const handleTokenCheck = React.useCallback(() => {\n    if (localStorage.getItem('jwt')) {\n    const jwt = localStorage.getItem('jwt');\n    auth.checkToken(jwt)\n      .then((res) => {\n        if (res) {\n          setEmail(res.data.email);\n          setLoggedIn(true)\n          history.push(\"/\");\n        }\n      });\n    }\n  }, [history]);\n\n  React.useEffect(()=> {\n    handleTokenCheck();\n  }, [handleTokenCheck]);\n\n  function handleCardLike(card, isLiked) {\n    const likeOrDis = !isLiked ? api.likeCard(card._id) : api.dislikeCard(card._id);\n    likeOrDis\n      .then((newCard) => {\n        setCards((state) => {\n          return state.map((c) => c._id === card._id ? newCard : c)\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => {\n          return state.filter((c) => !(c._id === card._id))\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateUser(data) {\n    api.editUserInfo(data)\n      .then((userData) =>{\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateAvatar(data) {\n    api.editAvatar(data)\n      .then((userData) =>{\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsCardFullPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsCardFullPopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n  }\n\n  React.useEffect(() =>{\n    Promise.all([\n      api.getUserData(),\n      api.getInitialCards()\n    ])\n      .then(([userData, gridCards]) => {\n        setCurrentUser(userData);\n        setCards(gridCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <Header\n      email={email}\n      loggedIn={loggedIn}\n      location={location}\n      handleLogout={handleLogout}\n    />\n    <main className=\"main\">\n    <Switch>\n      <Route path=\"/sign-up\">\n        <Register\n          openNotice={handleInfoTooltip}\n          setLocation={setLocation}\n        />\n      </Route>\n      <Route path=\"/sign-in\">\n        <Login\n          openNotice={handleInfoTooltip}\n          setLocation={setLocation}\n          setAppEmail={setEmail}\n          handleLogin={handleLogin}\n        />\n      </Route>\n      <ProtectedRoute\n        component={Main}\n        path=\"/\"\n        loggedIn={loggedIn}\n        cards={cards}\n        handleEditProfileClick={handleEditProfileClick}\n        handleAddPlaceClick={handleAddPlaceClick}\n        handleEditAvatarClick={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n    </Switch>\n    </main>\n      <Footer/>\n      { loggedIn && (\n        <>\n          <EditProfilePopup\n            onUpdateUser={handleUpdateUser}\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <PopupWithForm\n            name='del'\n            title='Вы уверены?'\n            buttonCaption='Да'\n          />\n          <ImagePopup\n            card={selectedCard}\n            isOpen={isCardFullPopupOpen ? 'popup_display-flex' : ''}\n            onClose={closeAllPopups}\n          />\n        </>\n      )}\n      <InfoTooltip\n        isSuccess={isSuccess}\n        onClose={closeAllPopups}\n        isOpen={isInfoTooltipPopupOpen ? 'popup_display-flex' : ''}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App/>\n    </HashRouter>\n  </React.StrictMode>,\n  document.querySelector('.page')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}